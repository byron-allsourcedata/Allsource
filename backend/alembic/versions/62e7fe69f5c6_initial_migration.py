"""Initial migration

Revision ID: 62e7fe69f5c6
Revises: 
Create Date: 2025-12-10 01:52:57.828737

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '62e7fe69f5c6'
down_revision: Union[str, None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('5x5_anonymous_cookie_sync',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('trovo_id', sa.String(length=128), nullable=True),
    sa.Column('partner_id', sa.String(length=128), nullable=True),
    sa.Column('partner_uid', sa.Text(), nullable=True),
    sa.Column('ip', sa.String(length=64), nullable=True),
    sa.Column('json_headers', sa.Text(), nullable=True),
    sa.Column('event_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('file_name', sa.String(length=256), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('5x5_cookie_sync_files',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('trovo_id', sa.String(length=128), nullable=True),
    sa.Column('partner_id', sa.String(length=128), nullable=True),
    sa.Column('partner_uid', sa.Text(), nullable=True),
    sa.Column('sha256_lower_case', sa.String(length=64), nullable=True),
    sa.Column('ip', sa.String(length=64), nullable=True),
    sa.Column('json_headers', sa.Text(), nullable=True),
    sa.Column('event_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('up_id', sa.String(length=64), nullable=True),
    sa.Column('file_name', sa.String(length=256), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('file_name', 'up_id', 'event_date', 'sha256_lower_case', name='5x5_cookie_sync_files_file_name_up_id_event_date_sha256_lower_c')
    )
    op.create_index('5x5_cookie_sync_files_event_date_idx', '5x5_cookie_sync_files', ['event_date'], unique=False)
    op.create_table('5x5_emails',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('email_host', sa.String(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('5x5_emails_email_idx', '5x5_emails', ['email'], unique=True)
    op.create_index('idx_5x5_emails_host', '5x5_emails', ['email_host'], unique=False, postgresql_ops={'email_host': 'varchar_pattern_ops'})
    op.create_index('idx_5x5_emails_name', '5x5_emails', ['email'], unique=False, postgresql_ops={'email': 'varchar_pattern_ops'})
    op.create_table('5x5_interests',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('category', sa.String(length=64), nullable=True),
    sa.Column('sub_category', sa.String(length=64), nullable=True),
    sa.Column('topic', sa.String(length=128), nullable=True),
    sa.Column('topic_id', sa.String(length=16), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('5x5_interests_topic_id_idx', '5x5_interests', ['topic_id'], unique=True)
    op.create_table('5x5_names',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('name', sa.String(length=64), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('5x5_names_name_idx', '5x5_names', ['name'], unique=True)
    op.create_index('idx_5x5_users_up_id', '5x5_names', ['name'], unique=False, postgresql_ops={'name': 'varchar_pattern_ops'})
    op.create_table('5x5_phones',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('number', sa.String(length=64), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('5x5_phones_number_idx', '5x5_phones', ['number'], unique=True)
    op.create_table('5x5_users_interests',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('hem', sa.String(length=64), nullable=True),
    sa.Column('up_id', sa.String(length=64), nullable=True),
    sa.Column('topic_id', sa.String(length=16), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('account_notifications',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('title', sa.String(length=64), nullable=True),
    sa.Column('text', sa.String(length=256), nullable=True),
    sa.Column('sub_title', sa.String(length=64), nullable=True),
    sa.Column('is_dismiss', sa.Boolean(), server_default='true', nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_phones_verification',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('phone', sa.Text(), nullable=False),
    sa.Column('status', sa.VARCHAR(length=128), nullable=False),
    sa.Column('is_verify', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_phones_verification_phone_idx', 'audience_phones_verification', ['phone'], unique=True)
    op.create_table('audience_postals_verification',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('postal_code', sa.VARCHAR(), nullable=False),
    sa.Column('is_verified', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_postals_verification_postal_code_idx', 'audience_postals_verification', ['postal_code'], unique=True)
    op.create_table('audience_settings',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('alias', sa.String(), nullable=False),
    sa.Column('value', sa.Text(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_table('audience_smarts_use_cases',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('name', sa.VARCHAR(length=64), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('recomended_validations', sa.JSON(), nullable=True),
    sa.Column('alias', sa.VARCHAR(length=64), nullable=False),
    sa.Column('integrations', sa.JSON(), nullable=False),
    sa.Column('validations', sa.JSON(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('alias'),
    sa.UniqueConstraint('id')
    )
    op.create_table('charging_credits_history',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('users_count', sa.Integer(), nullable=False),
    sa.Column('users_ids', sa.JSON(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_table('enrichment_emails',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('email_type', sa.Enum('personal', 'business', 'other', name='email_type'), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('email', 'email_type', name='uq_enrichment_emails_email_type')
    )
    op.create_index('ix_enrichment_emails_norm_email', 'enrichment_emails', [sa.text('lower(trim(email))')], unique=False)
    op.create_table('enrichment_users',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('asid', name='enrichment_user_ids_asid_key')
    )
    op.create_index('enrichment_user_ids_asid_idx', 'enrichment_users', ['asid'], unique=True)
    op.create_table('external_apps_installations',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('platform', sa.VARCHAR(), nullable=False),
    sa.Column('store_hash', sa.VARCHAR(), nullable=True),
    sa.Column('access_token', sa.VARCHAR(), nullable=False),
    sa.Column('domain_url', sa.VARCHAR(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('external_apps_install_platform_idx', 'external_apps_installations', ['platform', 'store_hash'], unique=False)
    op.create_index('external_apps_installations_store_hash_idx', 'external_apps_installations', ['store_hash'], unique=True)
    op.create_table('integration_bigcommerce_users',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('authentication_force_password_reset', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('company', sa.Text(), nullable=True),
    sa.Column('customer_group_id', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('email', sa.Text(), nullable=False),
    sa.Column('first_name', sa.Text(), nullable=True),
    sa.Column('last_name', sa.Text(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('phone', sa.Text(), nullable=True),
    sa.Column('registration_ip_address', sa.Text(), nullable=True),
    sa.Column('tax_exempt_category', sa.Text(), nullable=True),
    sa.Column('date_created', sa.TIMESTAMP(), nullable=False),
    sa.Column('date_modified', sa.TIMESTAMP(), nullable=False),
    sa.Column('accepts_product_review_abandoned_cart_emails', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('origin_channel_id', sa.Integer(), nullable=True),
    sa.Column('channel_ids', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('integrations',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('service_name', sa.String(length=255), nullable=False),
    sa.Column('image_url', sa.Text(), nullable=True),
    sa.Column('fields', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('type', sa.String(), server_default=sa.text("'Marketing'::character varying"), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('true'), nullable=True),
    sa.Column('for_pixel', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('for_audience', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('for_premium_sources', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('integrations_service_name_key', 'integrations', ['service_name'], unique=True)
    op.create_table('kajabi',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('text', sa.JSON(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('leads',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('first_name', sa.VARCHAR(), nullable=True),
    sa.Column('up_id', sa.VARCHAR(), nullable=False),
    sa.Column('mobile_phone', sa.VARCHAR(), nullable=True),
    sa.Column('business_email', sa.VARCHAR(), nullable=True),
    sa.Column('last_name', sa.VARCHAR(), nullable=True),
    sa.Column('trovo_id', sa.VARCHAR(), nullable=True),
    sa.Column('partner_id', sa.VARCHAR(), nullable=True),
    sa.Column('partner_uid', sa.VARCHAR(), nullable=True),
    sa.Column('sha256_lower_case', sa.VARCHAR(), nullable=True),
    sa.Column('ip', sa.VARCHAR(), nullable=True),
    sa.Column('time_spent', sa.VARCHAR(), nullable=True),
    sa.Column('no_of_visits', sa.Integer(), nullable=True),
    sa.Column('no_of_page_visits', sa.Integer(), nullable=True),
    sa.Column('age_min', sa.Integer(), nullable=True),
    sa.Column('age_max', sa.Integer(), nullable=True),
    sa.Column('gender', sa.VARCHAR(length=1), nullable=True),
    sa.Column('company_name', sa.VARCHAR(), nullable=True),
    sa.Column('company_domain', sa.VARCHAR(), nullable=True),
    sa.Column('company_phone', sa.VARCHAR(), nullable=True),
    sa.Column('company_sic', sa.VARCHAR(), nullable=True),
    sa.Column('company_address', sa.VARCHAR(), nullable=True),
    sa.Column('company_city', sa.VARCHAR(), nullable=True),
    sa.Column('company_state', sa.VARCHAR(), nullable=True),
    sa.Column('company_zip', sa.VARCHAR(), nullable=True),
    sa.Column('company_linkedin_url', sa.VARCHAR(), nullable=True),
    sa.Column('company_revenue', sa.VARCHAR(), nullable=True),
    sa.Column('company_employee_count', sa.VARCHAR(), nullable=True),
    sa.Column('net_worth', sa.VARCHAR(), nullable=True),
    sa.Column('job_title', sa.VARCHAR(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('leads_emails_verifications',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('email', sa.VARCHAR(length=128), nullable=False),
    sa.Column('is_verify', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('verify_result', sa.VARCHAR(length=64), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('leads_emails_verification_email_idx', 'leads_emails_verifications', ['email'], unique=True)
    op.create_table('opt_out_black_list',
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('ip', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text("timezone('UTC', now())"), nullable=False),
    sa.PrimaryKeyConstraint('email')
    )
    op.create_index(op.f('ix_opt_out_black_list_email'), 'opt_out_black_list', ['email'], unique=False)
    op.create_table('partners_assets',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('title', sa.VARCHAR(length=32), nullable=False),
    sa.Column('type', sa.VARCHAR(length=16), nullable=False),
    sa.Column('file_url', sa.TEXT(), nullable=False),
    sa.Column('preview_url', sa.TEXT(), nullable=True),
    sa.Column('file_size', sa.Integer(), nullable=True),
    sa.Column('video_duration', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('premium_sources',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('user_id', sa.Integer(), nullable=False),
    sa.Column('s3_url', sa.String(), nullable=True),
    sa.Column('rows', sa.Integer(), nullable=False),
    sa.Column('price', sa.Integer(), server_default='0', nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.Column('source_type', sa.String(length=16), server_default='email', nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('referral_discount_codes',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('name', sa.VARCHAR(length=128), nullable=True),
    sa.Column('discount_amount', sa.Integer(), nullable=True),
    sa.Column('is_percentage', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('coupon', sa.VARCHAR(length=128), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('sendgrid_templates',
    sa.Column('id', sa.BIGINT(), nullable=False),
    sa.Column('alias', sa.VARCHAR(), nullable=True),
    sa.Column('template_id', sa.VARCHAR(), nullable=True),
    sa.Column('subject', sa.VARCHAR(), nullable=True),
    sa.Column('description', sa.VARCHAR(), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(precision=7), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('states',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('state_code', sa.VARCHAR(length=16), nullable=False),
    sa.Column('state_name', sa.VARCHAR(length=64), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('state_state_code_idx', 'states', ['state_code'], unique=True)
    op.create_index('state_state_name_idx', 'states', ['state_name'], unique=True)
    op.create_table('stripe_invoices_logs',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('type', sa.VARCHAR(length=64), nullable=False),
    sa.Column('invoices_data', sa.JSON(), nullable=False),
    sa.Column('created', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_table('subscription_plans',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('title', sa.VARCHAR(length=64), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('interval', sa.VARCHAR(length=16), nullable=True),
    sa.Column('stripe_price_id', sa.VARCHAR(length=128), nullable=True),
    sa.Column('price', sa.Numeric(), nullable=True),
    sa.Column('currency', sa.VARCHAR(length=8), nullable=True),
    sa.Column('trial_days', sa.Integer(), nullable=True),
    sa.Column('is_default', sa.Boolean(), nullable=True),
    sa.Column('coupon_id', sa.VARCHAR(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=True),
    sa.Column('is_free_trial', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('domains_limit', sa.Integer(), nullable=True),
    sa.Column('integrations_limit', sa.Integer(), nullable=True),
    sa.Column('leads_credits', sa.BigInteger(), nullable=True),
    sa.Column('validation_funds', sa.DECIMAL(precision=10, scale=2), nullable=True),
    sa.Column('members_limit', sa.Integer(), nullable=True),
    sa.Column('features', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=True),
    sa.Column('full_price', sa.Numeric(precision=18, scale=2), nullable=True),
    sa.Column('alias', sa.VARCHAR(length=64), nullable=False),
    sa.Column('platform', sa.VARCHAR(length=64), nullable=True),
    sa.Column('contact_credit_plan_id', sa.BigInteger(), nullable=True),
    sa.Column('overage_enabled', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('smart_audience_quota', sa.Integer(), nullable=True),
    sa.Column('enrichment_credits', sa.DECIMAL(precision=10, scale=2), nullable=True),
    sa.Column('premium_source_credits', sa.DECIMAL(precision=10, scale=2), nullable=True),
    sa.ForeignKeyConstraint(['contact_credit_plan_id'], ['subscription_plans.id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('subscription_plans_alias_idx', 'subscription_plans', ['alias'], unique=True)
    op.create_index('subscription_plans_contact_credit_plan_id_idx', 'subscription_plans', ['contact_credit_plan_id'], unique=False)
    op.create_index('subscription_plans_interval_is_active_idx', 'subscription_plans', ['interval', 'is_active'], unique=False)
    op.create_index('subscription_plans_platform_is_active_idx', 'subscription_plans', ['platform', 'is_active'], unique=False)
    op.create_index('subscription_plans_title_interval_idx', 'subscription_plans', ['title', 'interval'], unique=False)
    op.create_index('subscription_plans_title_price_idx', 'subscription_plans', ['title', 'price'], unique=False)
    op.create_table('suppressions_lists',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('list_name', sa.VARCHAR(length=256), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('total_emails', sa.TEXT(), nullable=True),
    sa.Column('status', sa.VARCHAR(length=32), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('transaction_history',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('event_name', sa.VARCHAR(length=32), nullable=False),
    sa.Column('identifier', sa.VARCHAR(length=64), nullable=False),
    sa.Column('customer_id', sa.VARCHAR(length=32), nullable=False),
    sa.Column('quantity', sa.Integer(), nullable=False),
    sa.Column('created', sa.TIMESTAMP(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_table('usa_zip_codes',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('zip', sa.String(), nullable=False),
    sa.Column('lat', sa.Float(), nullable=True),
    sa.Column('lng', sa.Float(), nullable=True),
    sa.Column('city', sa.String(length=100), nullable=True),
    sa.Column('state_id', sa.CHAR(length=2), nullable=True),
    sa.Column('state_name', sa.String(length=100), nullable=True),
    sa.Column('zcta', sa.String(length=5), nullable=True),
    sa.Column('parent_zcta', sa.String(length=5), nullable=True),
    sa.Column('population', sa.Integer(), nullable=True),
    sa.Column('density', sa.Float(), nullable=True),
    sa.Column('county_fips', sa.CHAR(length=5), nullable=True),
    sa.Column('county_name', sa.String(length=100), nullable=True),
    sa.Column('county_weights', sa.Text(), nullable=True),
    sa.Column('county_names_all', sa.Text(), nullable=True),
    sa.Column('county_fips_all', sa.Text(), nullable=True),
    sa.Column('imprecise', sa.Boolean(), nullable=True),
    sa.Column('military', sa.Boolean(), nullable=True),
    sa.Column('timezone', sa.String(length=50), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('zip')
    )
    op.create_table('users',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('email', sa.VARCHAR(), nullable=True),
    sa.Column('is_email_confirmed', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('password', sa.VARCHAR(), nullable=True),
    sa.Column('full_name', sa.VARCHAR(), nullable=True),
    sa.Column('business_type', sa.VARCHAR(), server_default=sa.text("'d2c'::character varying"), nullable=False),
    sa.Column('team_owner_id', sa.BigInteger(), nullable=True),
    sa.Column('image', sa.VARCHAR(), nullable=True),
    sa.Column('company_name', sa.VARCHAR(), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('last_login', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('payment_status', sa.VARCHAR(), server_default=sa.text("'PENDING'::character varying"), nullable=True),
    sa.Column('customer_id', sa.VARCHAR(length=32), nullable=False),
    sa.Column('company_website', sa.VARCHAR(), nullable=True),
    sa.Column('reset_password_sent_at', sa.DateTime(), nullable=True),
    sa.Column('is_with_card', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('is_company_details_filled', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('verified_email_sent_at', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('company_email_address', sa.VARCHAR(), nullable=True),
    sa.Column('employees_workers', sa.VARCHAR(length=256), nullable=True),
    sa.Column('is_book_call_passed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('stripe_payment_url', postgresql.JSON(astext_type=sa.Text()), nullable=True),
    sa.Column('data_provider_id', sa.VARCHAR(length=64), nullable=True),
    sa.Column('role', postgresql.ARRAY(sa.VARCHAR(length=32)), server_default=sa.text("ARRAY['customer']"), nullable=True),
    sa.Column('company_role', sa.VARCHAR(length=16), nullable=True),
    sa.Column('company_website_visits', sa.VARCHAR(length=16), nullable=True),
    sa.Column('pixel_code_sent_at', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('calendly_uuid', sa.VARCHAR(length=64), nullable=True),
    sa.Column('calendly_invitee_uuid', sa.VARCHAR(length=64), nullable=True),
    sa.Column('activate_steps_percent', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('leads_credits', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('overage_leads_count', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('validation_funds', sa.DECIMAL(precision=10, scale=2), server_default=sa.text('0'), nullable=False),
    sa.Column('premium_source_credits', sa.DECIMAL(precision=10, scale=2), server_default=sa.text('0'), nullable=True),
    sa.Column('smart_audience_quota', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('change_email_sent_at', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('is_leads_auto_charging', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('team_access_level', sa.VARCHAR(length=32), nullable=True),
    sa.Column('added_on', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('invited_by_id', sa.BigInteger(), nullable=True),
    sa.Column('current_subscription_id', sa.BigInteger(), nullable=True),
    sa.Column('awin_awc', sa.VARCHAR(length=128), nullable=True),
    sa.Column('source_platform', sa.VARCHAR(length=64), nullable=True),
    sa.Column('connected_stripe_account_id', sa.VARCHAR(), nullable=True),
    sa.Column('shop_id', sa.VARCHAR(length=64), nullable=True),
    sa.Column('shopify_token', sa.VARCHAR(length=64), nullable=True),
    sa.Column('shop_domain', sa.VARCHAR(length=64), nullable=True),
    sa.Column('is_partner', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('charge_id', sa.VARCHAR(length=64), nullable=True),
    sa.Column('utm_params', postgresql.JSON(astext_type=sa.Text()), nullable=True),
    sa.Column('is_stripe_connected', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('stripe_connected_email', sa.VARCHAR(), nullable=True),
    sa.Column('stripe_connected_currently_due', postgresql.JSON(astext_type=sa.Text()), nullable=True),
    sa.Column('total_leads', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('has_credit_card', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('whitelabel_settings_enabled', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('random_seed', sa.Integer(), server_default=sa.text('42'), nullable=False),
    sa.ForeignKeyConstraint(['invited_by_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['team_owner_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('users_data_provider_id_idx', 'users', ['data_provider_id'], unique=True)
    op.create_index('users_email_idx', 'users', ['email'], unique=True)
    op.create_index('users_overage_leads_count_idx', 'users', ['overage_leads_count'], unique=False)
    op.create_table('user_subscriptions',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('plan_start', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('plan_end', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.Column('status', sa.VARCHAR(length=32), server_default=sa.text("'active'"), nullable=False),
    sa.Column('plan_id', sa.BigInteger(), nullable=True),
    sa.Column('is_trial', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('domains_limit', sa.Integer(), server_default=sa.text('-1'), nullable=False),
    sa.Column('integrations_limit', sa.Integer(), server_default=sa.text('-1'), nullable=True),
    sa.Column('platform_subscription_id', sa.VARCHAR(), nullable=True),
    sa.Column('members_limit', sa.BigInteger(), server_default=sa.text('-1'), nullable=False),
    sa.Column('downgrade_at', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('downgrade_price_id', sa.VARCHAR(), nullable=True),
    sa.Column('cancellation_reason', sa.TEXT(), nullable=True),
    sa.Column('price_id', sa.VARCHAR(), nullable=True),
    sa.Column('cancel_scheduled_at', postgresql.TIMESTAMP(precision=7), nullable=True),
    sa.Column('is_avin_sended', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('contact_credit_plan_id', sa.BigInteger(), nullable=True),
    sa.ForeignKeyConstraint(['contact_credit_plan_id'], ['subscription_plans.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['plan_id'], ['subscription_plans.id'], onupdate='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('user_subscriptions_contact_credit_plan_id_idx', 'user_subscriptions', ['contact_credit_plan_id'], unique=False)
    op.create_index('user_subscriptions_user_id_idx', 'user_subscriptions', ['user_id'], unique=False)
    op.create_index('user_subscriptions_user_id_status_idx', 'user_subscriptions', ['user_id', 'status'], unique=False)
    op.create_foreign_key('users_current_subscription_id_fkey', 'users', 'user_subscriptions', ['current_subscription_id'], ['id'], ondelete='SET NULL')
    op.create_table('5x5_locations',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('country', sa.String(length=64), nullable=True),
    sa.Column('city', sa.String(length=64), nullable=True),
    sa.Column('state_id', sa.BigInteger(), nullable=True),
    sa.ForeignKeyConstraint(['state_id'], ['states.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('locations_pkey', '5x5_locations', ['id'], unique=True)
    op.create_table('leads_companies',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('name', sa.VARCHAR(length=256), nullable=False),
    sa.Column('alias', sa.VARCHAR(length=256), nullable=False),
    sa.Column('domain', sa.VARCHAR(length=256), nullable=True),
    sa.Column('phone', sa.VARCHAR(length=256), nullable=True),
    sa.Column('sic', sa.VARCHAR(length=256), nullable=True),
    sa.Column('address', sa.VARCHAR(length=256), nullable=True),
    sa.Column('five_x_five_location_id', sa.BigInteger(), nullable=True),
    sa.Column('zip', sa.VARCHAR(length=64), nullable=True),
    sa.Column('linkedin_url', sa.VARCHAR(length=256), nullable=True),
    sa.Column('revenue', sa.VARCHAR(length=256), nullable=True),
    sa.Column('employee_count', sa.VARCHAR(length=256), nullable=True),
    sa.Column('last_updated', sa.TIMESTAMP(), nullable=True),
    sa.Column('description', sa.TEXT(), nullable=True),
    sa.Column('primary_industry', sa.VARCHAR(length=256), nullable=True),
    sa.ForeignKeyConstraint(['five_x_five_location_id'], ['5x5_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('leads_companies_alias_idx', 'leads_companies', ['alias'], unique=True)
    op.create_index('leads_companies_primary_industry_idx', 'leads_companies', ['primary_industry'], unique=False)
    op.create_table('5x5_users',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('up_id', sa.String(length=64), nullable=True),
    sa.Column('cc_id', sa.String(length=64), nullable=True),
    sa.Column('first_name', sa.String(length=64), nullable=True),
    sa.Column('last_name', sa.String(length=64), nullable=True),
    sa.Column('business_email', sa.String(length=64), nullable=True),
    sa.Column('programmatic_business_emails', sa.Text(), nullable=True),
    sa.Column('mobile_phone', sa.Text(), nullable=True),
    sa.Column('direct_number', sa.Text(), nullable=True),
    sa.Column('personal_phone', sa.Text(), nullable=True),
    sa.Column('linkedin_url', sa.String(length=256), nullable=True),
    sa.Column('personal_address', sa.String(length=256), nullable=True),
    sa.Column('personal_address_2', sa.String(length=256), nullable=True),
    sa.Column('personal_city', sa.String(length=64), nullable=True),
    sa.Column('personal_state', sa.String(length=8), nullable=True),
    sa.Column('personal_zip', sa.String(length=16), nullable=True),
    sa.Column('personal_zip4', sa.String(length=16), nullable=True),
    sa.Column('personal_emails', sa.String(length=64), nullable=True),
    sa.Column('additional_personal_emails', sa.Text(), nullable=True),
    sa.Column('gender', sa.String(length=4), nullable=True),
    sa.Column('married', sa.String(length=4), nullable=True),
    sa.Column('children', sa.String(length=16), nullable=True),
    sa.Column('income_range', sa.String(length=256), nullable=True),
    sa.Column('net_worth', sa.String(length=256), nullable=True),
    sa.Column('homeowner', sa.String(length=4), nullable=True),
    sa.Column('job_title', sa.String(length=256), nullable=True),
    sa.Column('seniority_level', sa.String(length=64), nullable=True),
    sa.Column('department', sa.String(length=64), nullable=True),
    sa.Column('professional_address', sa.String(length=256), nullable=True),
    sa.Column('professional_address_2', sa.String(length=256), nullable=True),
    sa.Column('professional_city', sa.String(length=64), nullable=True),
    sa.Column('professional_state', sa.String(length=64), nullable=True),
    sa.Column('professional_zip', sa.String(length=8), nullable=True),
    sa.Column('professional_zip4', sa.String(length=8), nullable=True),
    sa.Column('company_name', sa.String(length=128), nullable=True),
    sa.Column('company_domain', sa.String(length=128), nullable=True),
    sa.Column('company_phone', sa.String(length=128), nullable=True),
    sa.Column('company_sic', sa.String(length=512), nullable=True),
    sa.Column('company_address', sa.String(length=256), nullable=True),
    sa.Column('company_city', sa.String(length=64), nullable=True),
    sa.Column('company_state', sa.String(length=64), nullable=True),
    sa.Column('company_zip', sa.String(length=8), nullable=True),
    sa.Column('company_linkedin_url', sa.String(length=256), nullable=True),
    sa.Column('company_revenue', sa.String(length=64), nullable=True),
    sa.Column('company_employee_count', sa.String(length=64), nullable=True),
    sa.Column('primary_industry', sa.String(length=128), nullable=True),
    sa.Column('business_email_validation_status', sa.String(length=64), nullable=True),
    sa.Column('business_email_last_seen', sa.TIMESTAMP(), nullable=True),
    sa.Column('personal_emails_validation_status', sa.String(length=64), nullable=True),
    sa.Column('work_history', sa.Text(), nullable=True),
    sa.Column('education_history', sa.Text(), nullable=True),
    sa.Column('company_description', sa.Text(), nullable=True),
    sa.Column('related_domains', sa.String(length=128), nullable=True),
    sa.Column('social_connections', sa.String(length=32), nullable=True),
    sa.Column('dpv_code', sa.String(length=2), nullable=True),
    sa.Column('last_updated', sa.TIMESTAMP(), nullable=True),
    sa.Column('personal_emails_last_seen', sa.TIMESTAMP(), nullable=True),
    sa.Column('company_last_updated', sa.TIMESTAMP(), nullable=True),
    sa.Column('job_title_last_updated', sa.TIMESTAMP(), nullable=True),
    sa.Column('first_name_id', sa.BigInteger(), nullable=True),
    sa.Column('last_name_id', sa.BigInteger(), nullable=True),
    sa.Column('age_min', sa.Integer(), nullable=True),
    sa.Column('age_max', sa.Integer(), nullable=True),
    sa.Column('company_alias', sa.String(length=256), nullable=True),
    sa.ForeignKeyConstraint(['first_name_id'], ['5x5_names.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['last_name_id'], ['5x5_names.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('5x5_users_company_alias_idx', '5x5_users', ['company_alias'], unique=False)
    op.create_index('5x5_users_company_domain_idx', '5x5_users', ['company_domain'], unique=False)
    op.create_index('5x5_users_company_name_idx', '5x5_users', ['company_name'], unique=False)
    op.create_index('5x5_users_department_idx', '5x5_users', ['department'], unique=False)
    op.create_index('5x5_users_job_title_idx', '5x5_users', ['job_title'], unique=False)
    op.create_index('5x5_users_linkedin_url_idx', '5x5_users', ['linkedin_url'], unique=False)
    op.create_index('5x5_users_seniority_level_idx', '5x5_users', ['seniority_level'], unique=False)
    op.create_index('5x5_users_up_id_idx', '5x5_users', ['up_id'], unique=True)
    op.create_table('admin_invitations',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('full_name', sa.VARCHAR(length=64), nullable=False),
    sa.Column('email', sa.VARCHAR(length=64), nullable=False),
    sa.Column('date_invited_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('invited_by_id', sa.BigInteger(), nullable=False),
    sa.Column('token', sa.VARCHAR(length=64), nullable=False),
    sa.ForeignKeyConstraint(['invited_by_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('email')
    )
    op.create_index('admin_invitations_email_idx', 'admin_invitations', ['email'], unique=False)
    op.create_index('admin_invitations_token_idx', 'admin_invitations', ['token'], unique=False)
    op.create_table('api_keys',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('api_key', sa.String(length=256), nullable=True),
    sa.Column('api_id', sa.String(length=256), nullable=True),
    sa.Column('name', sa.String(length=256), nullable=True),
    sa.Column('description', sa.String(length=256), nullable=True),
    sa.Column('last_used_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('created_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('name', sa.String(length=64), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('type', sa.String(length=16), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('status', sa.String(length=16), nullable=False),
    sa.Column('exported_on', sa.TIMESTAMP(), nullable=True),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_smarts',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('name', sa.String(length=128), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('created_by_user_id', sa.BigInteger(), nullable=False),
    sa.Column('total_records', sa.BigInteger(), server_default='0', nullable=False),
    sa.Column('validated_records', sa.BigInteger(), server_default='0', nullable=False),
    sa.Column('active_segment_records', sa.BigInteger(), server_default='0', nullable=False),
    sa.Column('processed_active_segment_records', sa.BigInteger(), server_default='0', nullable=False),
    sa.Column('status', postgresql.ENUM('unvalidated', 'validating', 'ready', 'synced', 'data_syncing', 'n_a', 'failed', name='audience_smarts_statuses'), server_default='ready', nullable=False),
    sa.Column('use_case_id', sa.UUID(), nullable=True),
    sa.Column('validations', sa.JSON(), nullable=True),
    sa.Column('target_schema', sa.VARCHAR(length=128), nullable=True),
    sa.Column('validations_step_start_time', sa.JSON(), nullable=True),
    sa.Column('validations_step_size', sa.JSON(), nullable=True),
    sa.Column('validations_step_processed', sa.JSON(), nullable=True),
    sa.Column('validation_mode', sa.VARCHAR(length=8), server_default='all', nullable=False),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['use_case_id'], ['audience_smarts_use_cases.id'], onupdate='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_smarts_active_segment_records_idx', 'audience_smarts', ['active_segment_records'], unique=False)
    op.create_index('audience_smarts_created_at_idx', 'audience_smarts', ['created_at'], unique=True)
    op.create_index('audience_smarts_created_at_user_id_idx', 'audience_smarts', ['created_at', 'user_id'], unique=False)
    op.create_index('audience_smarts_status_idx', 'audience_smarts', ['status'], unique=False)
    op.create_index('audience_smarts_total_records_idx', 'audience_smarts', ['total_records'], unique=False)
    op.create_index('audience_smarts_use_case_id_idx', 'audience_smarts', ['use_case_id'], unique=False)
    op.create_index('audience_smarts_user_created_at', 'audience_smarts', ['user_id', 'created_at'], unique=False)
    op.create_index('audience_smarts_user_id_idx', 'audience_smarts', ['user_id'], unique=False)
    op.create_table('enrichment_employment_history',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('job_title', sa.String(length=100), nullable=True),
    sa.Column('company_name', sa.String(length=100), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('end_date', sa.Date(), nullable=True),
    sa.Column('is_current', sa.Boolean(), nullable=False),
    sa.Column('location', sa.String(length=100), nullable=True),
    sa.Column('job_description', sa.Text(), nullable=True),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('idx_emphistory_asid_current', 'enrichment_employment_history', ['asid'], unique=False, postgresql_where=sa.text('is_current = TRUE'))
    op.create_table('enrichment_financial_records',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('income_range', sa.String(length=10), nullable=True),
    sa.Column('net_worth', sa.String(length=10), nullable=True),
    sa.Column('credit_rating', sa.String(length=1), nullable=True),
    sa.Column('credit_cards', sa.Text(), nullable=True),
    sa.Column('bank_card', sa.String(length=8), nullable=False),
    sa.Column('credit_card_premium', sa.String(length=8), nullable=False),
    sa.Column('credit_card_new_issue', sa.String(length=8), nullable=False),
    sa.Column('credit_lines', sa.String(length=8), nullable=False),
    sa.Column('credit_range_of_new_credit_lines', sa.String(length=8), nullable=False),
    sa.Column('donor', sa.String(length=8), nullable=False),
    sa.Column('investor', sa.String(length=8), nullable=False),
    sa.Column('mail_order_donor', sa.String(length=8), nullable=False),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_financial_asid', 'enrichment_financial_records', ['asid'], unique=True)
    op.create_table('enrichment_lifestyles',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('pets', sa.String(length=8), nullable=False),
    sa.Column('cooking_enthusiast', sa.String(length=8), nullable=False),
    sa.Column('travel', sa.String(length=8), nullable=False),
    sa.Column('mail_order_buyer', sa.String(length=8), nullable=False),
    sa.Column('online_purchaser', sa.String(length=8), nullable=False),
    sa.Column('book_reader', sa.String(length=8), nullable=False),
    sa.Column('health_and_beauty', sa.String(length=8), nullable=False),
    sa.Column('fitness', sa.String(length=8), nullable=False),
    sa.Column('outdoor_enthusiast', sa.String(length=8), nullable=False),
    sa.Column('tech_enthusiast', sa.String(length=8), nullable=False),
    sa.Column('diy', sa.String(length=8), nullable=False),
    sa.Column('gardening', sa.String(length=8), nullable=False),
    sa.Column('automotive_buff', sa.String(length=8), nullable=False),
    sa.Column('golf_enthusiasts', sa.String(length=8), nullable=False),
    sa.Column('beauty_cosmetics', sa.String(length=8), nullable=False),
    sa.Column('smoker', sa.String(length=8), nullable=False),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_lifestyle_asid', 'enrichment_lifestyles', ['asid'], unique=True)
    op.create_table('enrichment_personal_profiles',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('age', sa.String(length=16), nullable=False),
    sa.Column('gender', sa.String(length=16), nullable=False),
    sa.Column('homeowner', sa.String(length=16), nullable=False),
    sa.Column('length_of_residence_years', sa.SmallInteger(), nullable=True),
    sa.Column('marital_status', sa.String(length=16), nullable=True),
    sa.Column('business_owner', sa.SmallInteger(), nullable=True),
    sa.Column('birth_day', sa.SmallInteger(), nullable=True),
    sa.Column('birth_month', sa.SmallInteger(), nullable=True),
    sa.Column('birth_year', sa.SmallInteger(), nullable=True),
    sa.Column('has_children', sa.SmallInteger(), nullable=False),
    sa.Column('number_of_children', sa.SmallInteger(), nullable=True),
    sa.Column('religion', sa.String(length=10), nullable=True),
    sa.Column('ethnicity', sa.String(length=10), nullable=True),
    sa.Column('language_code', sa.String(length=10), nullable=True),
    sa.Column('state_abbr', sa.String(length=10), nullable=True),
    sa.Column('zip_code5', sa.String(length=10), nullable=True),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_enrichment_personal_profiles_asid', 'enrichment_personal_profiles', ['asid'], unique=True)
    op.create_table('enrichment_postals',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('home_address_line1', sa.VARCHAR(length=256), nullable=True),
    sa.Column('home_address_line2', sa.VARCHAR(length=256), nullable=True),
    sa.Column('home_city', sa.VARCHAR(length=128), nullable=True),
    sa.Column('home_state', sa.VARCHAR(length=2), nullable=True),
    sa.Column('home_postal_code', sa.VARCHAR(length=16), nullable=True),
    sa.Column('home_country', sa.VARCHAR(length=3), nullable=True),
    sa.Column('home_address_last_seen', sa.TIMESTAMP(), nullable=True),
    sa.Column('home_address_validation_status', sa.VARCHAR(length=1), nullable=True),
    sa.Column('business_address_line1', sa.VARCHAR(length=256), nullable=True),
    sa.Column('business_address_line2', sa.VARCHAR(length=256), nullable=True),
    sa.Column('business_city', sa.VARCHAR(length=256), nullable=True),
    sa.Column('business_state', sa.VARCHAR(length=256), nullable=True),
    sa.Column('business_postal_code', sa.VARCHAR(length=10), nullable=True),
    sa.Column('business_country', sa.VARCHAR(length=256), nullable=True),
    sa.Column('business_address_last_seen', sa.TIMESTAMP(), nullable=True),
    sa.Column('business_address_validation_status', sa.VARCHAR(length=8), nullable=True),
    sa.Column('address_source', sa.VARCHAR(length=4), nullable=True),
    sa.Column('raw_url_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('raw_last_updated', sa.TIMESTAMP(), nullable=True),
    sa.Column('created_date', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('enrichment_professional_profiles',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=True),
    sa.Column('current_job_title', sa.TEXT(), nullable=True),
    sa.Column('current_company_name', sa.TEXT(), nullable=True),
    sa.Column('job_start_date', sa.TEXT(), nullable=True),
    sa.Column('job_duration', sa.TEXT(), nullable=True),
    sa.Column('job_location', sa.TEXT(), nullable=True),
    sa.Column('job_level', sa.TEXT(), nullable=True),
    sa.Column('department', sa.TEXT(), nullable=True),
    sa.Column('company_size', sa.TEXT(), nullable=True),
    sa.Column('primary_industry', sa.TEXT(), nullable=True),
    sa.Column('annual_sales', sa.TEXT(), nullable=True),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('professional_profiles_asid_idx', 'enrichment_professional_profiles', ['asid'], unique=True)
    op.create_table('enrichment_users_contacts',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('up_id', sa.TEXT(), nullable=False),
    sa.Column('rsid', sa.TEXT(), nullable=True),
    sa.Column('name_prefix', sa.TEXT(), nullable=True),
    sa.Column('first_name', sa.TEXT(), nullable=True),
    sa.Column('middle_name', sa.TEXT(), nullable=True),
    sa.Column('last_name', sa.TEXT(), nullable=True),
    sa.Column('name_suffix', sa.TEXT(), nullable=True),
    sa.Column('business_email', sa.TEXT(), nullable=True),
    sa.Column('personal_email', sa.TEXT(), nullable=True),
    sa.Column('other_emails', sa.TEXT(), nullable=True),
    sa.Column('phone_mobile1', sa.TEXT(), nullable=True),
    sa.Column('phone_mobile2', sa.TEXT(), nullable=True),
    sa.Column('business_email_last_seen_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('personal_email_last_seen', sa.TIMESTAMP(), nullable=True),
    sa.Column('mobile_phone_dnc', sa.Boolean(), nullable=True),
    sa.Column('business_email_validation_status', sa.TEXT(), nullable=True),
    sa.Column('personal_email_validation_status', sa.TEXT(), nullable=True),
    sa.Column('linkedin_url', sa.TEXT(), nullable=True),
    sa.Column('email', sa.TEXT(), nullable=True),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_enrichment_users_contacts_asid', 'enrichment_users_contacts', ['asid'], unique=True)
    op.create_table('enrichment_users_emails',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=False),
    sa.Column('email_id', sa.UUID(), nullable=False),
    sa.ForeignKeyConstraint(['email_id'], ['enrichment_emails.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['enrichment_user_id'], ['enrichment_users.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('enrichment_user_id', 'email_id', name='uq_enrichment_users_emails_user_email')
    )
    op.create_index('ix_enrichment_users_emails_email_id', 'enrichment_users_emails', ['email_id'], unique=False)
    op.create_index('ix_enrichment_users_emails_user_id', 'enrichment_users_emails', ['enrichment_user_id'], unique=False)
    op.create_table('enrichment_voter_record',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('asid', sa.UUID(), nullable=False),
    sa.Column('party_affiliation', sa.String(length=20), nullable=True),
    sa.Column('congressional_district', sa.String(length=10), nullable=True),
    sa.Column('voting_propensity', sa.Float(), nullable=True),
    sa.ForeignKeyConstraint(['asid'], ['enrichment_users.asid'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_voter_asid', 'enrichment_voter_record', ['asid'], unique=True)
    op.create_table('partners',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('user_id', sa.Integer(), nullable=True),
    sa.Column('master_id', sa.Integer(), nullable=True),
    sa.Column('commission', sa.Integer(), nullable=True),
    sa.Column('email', sa.VARCHAR(length=64), nullable=False),
    sa.Column('name', sa.VARCHAR(length=64), nullable=False),
    sa.Column('company_name', sa.VARCHAR(length=64), nullable=True),
    sa.Column('join_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('token', sa.VARCHAR(length=256), nullable=True),
    sa.Column('status', sa.VARCHAR(length=16), server_default=sa.text("'Invite sent'::character varying"), nullable=False),
    sa.Column('is_master', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.ForeignKeyConstraint(['master_id'], ['partners.id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('partners_email_idx', 'partners', ['email'], unique=True)
    op.create_index('partners_is_master_idx', 'partners', ['is_master'], unique=False)
    op.create_index('partners_master_id_idx', 'partners', ['master_id'], unique=False)
    op.create_index('partners_user_id_idx', 'partners', ['user_id'], unique=True)
    op.create_table('premium_sources_transactions',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('premium_source_id', sa.UUID(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.ForeignKeyConstraint(['premium_source_id'], ['premium_sources.id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('privacy_policy_users',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('email', sa.VARCHAR(length=64), nullable=False),
    sa.Column('ip', sa.VARCHAR(length=64), nullable=False),
    sa.Column('version_privacy_policy', sa.VARCHAR(length=128), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('referral_payouts',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('parent_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('reward_amount', sa.NUMERIC(precision=18, scale=2), nullable=False),
    sa.Column('reward_type', sa.VARCHAR(length=128), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('status', sa.VARCHAR(length=16), server_default=sa.text("'pending'::character varying"), nullable=False),
    sa.Column('confirmation_status', sa.VARCHAR(length=16), server_default=sa.text("'pending'::character varying"), nullable=False),
    sa.Column('plan_amount', sa.NUMERIC(precision=18, scale=2), nullable=False),
    sa.Column('paid_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('comment', sa.TEXT(), nullable=True),
    sa.ForeignKeyConstraint(['parent_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('referral_users',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('parent_user_id', sa.BigInteger(), nullable=False),
    sa.Column('discount_code_id', sa.BigInteger(), nullable=True),
    sa.Column('referral_program_type', sa.VARCHAR(length=32), server_default=sa.text("'partner'::character varying"), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['discount_code_id'], ['referral_discount_codes.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['parent_user_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('referral_users_user_id_parent_user_id_idx', 'referral_users', ['user_id', 'parent_user_id'], unique=False)
    op.create_table('subscription_transactions',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.Column('plan_id', sa.BigInteger(), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('platform_subscription_id', sa.VARCHAR(), nullable=True),
    sa.Column('stripe_request_created_at', sa.VARCHAR(), nullable=True),
    sa.Column('transaction_id', sa.VARCHAR(), nullable=True),
    sa.Column('charge_id', sa.VARCHAR(), nullable=True),
    sa.Column('status', sa.VARCHAR(), nullable=True),
    sa.Column('plan_name', sa.VARCHAR(), nullable=True),
    sa.Column('start_date', postgresql.TIMESTAMP(), nullable=True),
    sa.Column('end_date', postgresql.TIMESTAMP(), nullable=True),
    sa.Column('currency', sa.VARCHAR(), nullable=True),
    sa.Column('price_id', sa.VARCHAR(), nullable=True),
    sa.Column('amount', sa.NUMERIC(precision=10, scale=2), nullable=True),
    sa.ForeignKeyConstraint(['plan_id'], ['subscription_plans.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('teams_invitations',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('mail', sa.VARCHAR(length=64), nullable=True),
    sa.Column('access_level', sa.VARCHAR(length=64), nullable=True),
    sa.Column('status', sa.VARCHAR(length=32), nullable=True),
    sa.Column('date_invited_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('invited_by_id', sa.BigInteger(), nullable=True),
    sa.Column('team_owner_id', sa.BigInteger(), nullable=True),
    sa.Column('token', sa.VARCHAR(length=64), nullable=True),
    sa.ForeignKeyConstraint(['invited_by_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['team_owner_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('teams_invitations_mail_team_owner_id_idx', 'teams_invitations', ['mail', 'team_owner_id'], unique=False)
    op.create_index('teams_invitations_md5_hash_idx', 'teams_invitations', ['token'], unique=False)
    op.create_table('users_account_notifications',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('notification_id', sa.BigInteger(), nullable=False),
    sa.Column('params', sa.TEXT(), nullable=True),
    sa.Column('is_checked', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['notification_id'], ['account_notifications.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('user_notification', 'users_account_notifications', ['id', 'user_id'], unique=True)
    op.create_index('users_account_notifications_user_id_notification_id_is_checked_', 'users_account_notifications', ['user_id', 'notification_id', 'is_checked'], unique=False)
    op.create_table('users_domains',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('domain', sa.VARCHAR(), nullable=False),
    sa.Column('data_provider_id', sa.VARCHAR(length=64), nullable=True),
    sa.Column('is_pixel_installed', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('is_enable', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('pixel_installation_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('api_key', sa.VARCHAR(), nullable=True),
    sa.Column('viewed_product_part_url', sa.VARCHAR(), nullable=True),
    sa.Column('is_converted_sales_installed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('is_add_to_cart_installed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('is_view_product_installed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('total_leads', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('is_another_domain_resolved', sa.Boolean(), server_default='false', nullable=False),
    sa.Column('is_email_validation_enabled', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('api_key', name='users_domains_unique')
    )
    op.create_index('users_domains_data_provider_id_idx', 'users_domains', ['data_provider_id'], unique=True)
    op.create_index('users_domains_is_enable_idx', 'users_domains', ['is_enable'], unique=False)
    op.create_table('leads_users',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.Column('five_x_five_user_id', sa.BigInteger(), nullable=True),
    sa.Column('behavior_type', sa.VARCHAR(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('shopify_user_id', sa.VARCHAR(), nullable=True),
    sa.Column('klaviyo_user_id', sa.VARCHAR(), nullable=True),
    sa.Column('bigcommerce_user_id', sa.VARCHAR(), nullable=True),
    sa.Column('mailchimp_user_id', sa.VARCHAR(), nullable=True),
    sa.Column('first_visit_id', sa.BigInteger(), nullable=True),
    sa.Column('is_converted_sales', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('is_returning_visitor', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=True),
    sa.Column('total_visit', sa.Integer(), nullable=True),
    sa.Column('avarage_visit_time', sa.Integer(), nullable=True),
    sa.Column('total_visit_time', sa.BigInteger(), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('company_id', sa.BigInteger(), nullable=True),
    sa.Column('is_confirmed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('is_checked', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.ForeignKeyConstraint(['company_id'], ['leads_companies.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['five_x_five_user_id'], ['5x5_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('leads_users_domain_id_is_active_is_confirmed_idx', 'leads_users', ['domain_id', 'is_active', 'is_confirmed'], unique=False)
    op.create_index('leads_users_first_visit_id_idx', 'leads_users', ['first_visit_id'], unique=False)
    op.create_index('leads_users_five_x_five_user_id_domain_id_idx', 'leads_users', ['five_x_five_user_id', 'domain_id'], unique=True)
    op.create_index('leads_users_five_x_five_user_id_user_id_idx', 'leads_users', ['five_x_five_user_id', 'user_id'], unique=False)
    op.create_index('leads_users_id_behavior_type_idx', 'leads_users', ['id', 'behavior_type'], unique=False)
    op.create_index('leads_users_id_domain_id_idx', 'leads_users', ['id', 'domain_id'], unique=False)
    op.create_index('leads_users_id_domain_id_is_active_idx', 'leads_users', ['id', 'domain_id', 'is_active'], unique=False)
    op.create_index('leads_users_id_domain_id_is_active_is_converted_sales_behavior_', 'leads_users', ['id', 'domain_id', 'is_active', 'is_converted_sales', 'behavior_type'], unique=False)
    op.create_index('leads_users_id_domain_id_is_active_is_converted_sales_idx', 'leads_users', ['id', 'domain_id', 'is_active', 'is_converted_sales'], unique=False)
    op.create_index('leads_users_is_active_idx', 'leads_users', ['is_active'], unique=False)
    op.create_index('leads_users_is_confirmed_domain_id_idx', 'leads_users', ['is_confirmed', 'domain_id'], unique=False)
    op.create_index('leads_users_is_confirmed_idx', 'leads_users', ['is_confirmed'], unique=False)
    op.create_index('leads_users_is_confirmed_is_checked_idx', 'leads_users', ['is_confirmed', 'is_checked'], unique=False)
    op.create_index('leads_users_user_id_created_at_idx', 'leads_users', ['user_id', 'created_at'], unique=False)
    op.create_index('leads_users_user_id_idx', 'leads_users', ['user_id', 'is_active'], unique=False)
    op.create_table('leads_visits',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('start_time', sa.Time(), nullable=True),
    sa.Column('end_date', sa.Date(), nullable=True),
    sa.Column('end_time', sa.Time(), nullable=True),
    sa.Column('pages_count', sa.Integer(), nullable=True),
    sa.Column('average_time_sec', sa.Integer(), nullable=False),
    sa.Column('full_time_sec', sa.Integer(), nullable=False),
    sa.Column('ip', sa.VARCHAR(length=64), nullable=True),
    sa.Column('lead_id', sa.BigInteger(), nullable=True),
    sa.Column('behavior_type', sa.VARCHAR(), nullable=True),
    sa.Column('five_x_five_user_id', sa.Integer(), nullable=True),
    sa.Column('domain_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['five_x_five_user_id'], ['5x5_users.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['lead_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('leads_visits_five_x_five_user_id_domain_id_idx', 'leads_visits', ['five_x_five_user_id', 'domain_id'], unique=False)
    op.create_index('leads_visits_pages_count_idx', 'leads_visits', ['pages_count'], unique=False)
    op.create_foreign_key('leads_users_first_visit_id_fkey', 'leads_users', 'leads_visits', ['first_visit_id'], ['id'], ondelete='CASCADE')
    op.create_table('leads_orders',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('platform_user_id', sa.BigInteger(), nullable=True),
    sa.Column('lead_user_id', sa.BigInteger(), nullable=True),
    sa.Column('platform_order_id', sa.BigInteger(), nullable=True),
    sa.Column('currency_code', sa.VARCHAR(length=8), nullable=True),
    sa.Column('total_price', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('platform_created_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('platform', sa.VARCHAR(), nullable=True),
    sa.Column('platfrom_email', sa.VARCHAR(), nullable=True),
    sa.ForeignKeyConstraint(['lead_user_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('leads_users_added_to_cart',
    sa.Column('lead_user_id', sa.BigInteger(), nullable=False),
    sa.Column('added_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['lead_user_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('lead_user_id')
    )
    op.create_table('leads_users_ordered',
    sa.Column('lead_user_id', sa.BigInteger(), nullable=False),
    sa.Column('ordered_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['lead_user_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('lead_user_id')
    )
    op.create_table('whitelabel_settings',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('user_id', sa.Integer(), nullable=False),
    sa.Column('brand_name', sa.VARCHAR(), nullable=True),
    sa.Column('brand_logo_url', sa.VARCHAR(), nullable=True),
    sa.Column('brand_icon_url', sa.VARCHAR(), nullable=True),
    sa.Column('meeting_url', sa.VARCHAR(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('user_id')
    )
    op.create_table('5x5_users_emails',
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('email_id', sa.BigInteger(), nullable=False),
    sa.Column('type', sa.String(), nullable=False),
    sa.ForeignKeyConstraint(['email_id'], ['5x5_emails.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['5x5_users.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('user_id', 'email_id', 'type')
    )
    op.create_index('5x5_users_emails_type_idx', '5x5_users_emails', ['type'], unique=False)
    op.create_index('5x5_users_emails_user_id_type_idx', '5x5_users_emails', ['user_id', 'type'], unique=False)
    op.create_table('5x5_users_locations',
    sa.Column('five_x_five_user_id', sa.BigInteger(), nullable=False),
    sa.Column('location_id', sa.BigInteger(), nullable=False),
    sa.ForeignKeyConstraint(['five_x_five_user_id'], ['5x5_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['location_id'], ['5x5_locations.id'], ),
    sa.PrimaryKeyConstraint('five_x_five_user_id', 'location_id')
    )
    op.create_table('5x5_users_phones',
    sa.Column('user_id', sa.BigInteger(), nullable=False),
    sa.Column('phone_id', sa.BigInteger(), nullable=False),
    sa.Column('type', sa.String(length=64), nullable=False),
    sa.ForeignKeyConstraint(['phone_id'], ['5x5_phones.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['5x5_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('user_id', 'phone_id', 'type')
    )
    op.create_table('anonymous_visits',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('start_time', sa.Time(), nullable=True),
    sa.Column('end_date', sa.Date(), nullable=True),
    sa.Column('end_time', sa.Time(), nullable=True),
    sa.Column('pages_count', sa.Integer(), nullable=True),
    sa.Column('average_time_sec', sa.Integer(), nullable=False),
    sa.Column('full_time_sec', sa.Integer(), nullable=False),
    sa.Column('ip', sa.VARCHAR(length=64), nullable=True),
    sa.Column('trovo_id', sa.VARCHAR(length=128), nullable=True),
    sa.Column('domain_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_leads',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('audience_id', sa.BigInteger(), nullable=False),
    sa.Column('lead_id', sa.BigInteger(), nullable=False),
    sa.ForeignKeyConstraint(['audience_id'], ['audience.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lead_id'], ['5x5_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_smarts_persons',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('smart_audience_id', sa.UUID(), nullable=False),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=True),
    sa.Column('enrichment_user_asid', sa.UUID(), nullable=True),
    sa.Column('is_valid', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('is_validation_processed', sa.Boolean(), server_default=sa.text('true'), nullable=True),
    sa.Column('sort_order', sa.BigInteger(), server_default=sa.text('0'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('is_synced', sa.BOOLEAN(), server_default=sa.text('FALSE'), nullable=False),
    sa.ForeignKeyConstraint(['enrichment_user_id'], ['enrichment_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['smart_audience_id'], ['audience_smarts.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_index('au_sm_ps_is_valid_smart_audience_id_idx', 'audience_smarts_persons', ['is_valid', 'smart_audience_id'], unique=False)
    op.create_index('au_sm_ps_is_validation_processed_smart_audience_id_idx', 'audience_smarts_persons', ['is_validation_processed', 'smart_audience_id'], unique=False)
    op.create_index('audience_smarts_persons_enrichment_user_id_idx', 'audience_smarts_persons', ['enrichment_user_id'], unique=False)
    op.create_index('audience_smarts_persons_is_synced_is_valid_idx', 'audience_smarts_persons', ['is_synced', 'is_valid'], unique=False)
    op.create_index('audience_smarts_persons_smart_audience_id_idx', 'audience_smarts_persons', ['smart_audience_id'], unique=False)
    op.create_table('audience_sources',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('user_id', sa.Integer(), nullable=True),
    sa.Column('created_by_user_id', sa.Integer(), nullable=True),
    sa.Column('name', sa.VARCHAR(length=128), nullable=False),
    sa.Column('file_url', sa.VARCHAR(length=256), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('source_type', sa.VARCHAR(length=128), nullable=False),
    sa.Column('source_origin', sa.VARCHAR(length=64), nullable=False),
    sa.Column('matched_records', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('total_records', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('matched_records_status', sa.VARCHAR(length=16), server_default=sa.text("'pending'"), nullable=False),
    sa.Column('processed_records', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('mapped_fields', sa.JSON(), nullable=True),
    sa.Column('domain_id', sa.Integer(), nullable=True),
    sa.Column('target_schema', postgresql.ENUM('b2c', 'b2b', name='target_schemas'), server_default='b2c', nullable=False),
    sa.Column('insights', sa.JSON(), nullable=True),
    sa.Column('significant_fields', sa.JSON(), nullable=True),
    sa.Column('hash_csv_file', sa.VARCHAR(length=32), nullable=True),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], onupdate='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_index('audience_sources_created_at_idx', 'audience_sources', ['created_at'], unique=False)
    op.create_index('audience_sources_hash_csv_file_idx', 'audience_sources', ['hash_csv_file'], unique=False)
    op.create_index('audience_sources_matched_records_idx', 'audience_sources', ['matched_records'], unique=False)
    op.create_index('audience_sources_matched_records_status_idx', 'audience_sources', ['matched_records_status'], unique=False)
    op.create_index('audience_sources_name_idx', 'audience_sources', ['name'], unique=False)
    op.create_index('audience_sources_total_records_idx', 'audience_sources', ['total_records'], unique=False)
    op.create_index('audience_sources_user_id_idx', 'audience_sources', ['user_id'], unique=False)
    op.create_index('audience_sources_user_id_uuid_idx', 'audience_sources', ['user_id', 'id'], unique=False)
    op.create_table('leads_requests',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('lead_id', sa.BigInteger(), nullable=True),
    sa.Column('page', sa.VARCHAR(length=1024), nullable=False),
    sa.Column('requested_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('visit_id', sa.BigInteger(), nullable=False),
    sa.Column('page_parameters', sa.VARCHAR(length=2048), nullable=True),
    sa.Column('spent_time_sec', sa.BigInteger(), nullable=False),
    sa.Column('domain_id', sa.Integer(), nullable=True),
    sa.Column('five_x_five_user_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['five_x_five_user_id'], ['5x5_users.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['lead_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['visit_id'], ['leads_visits.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('leads_requests_lead_id_requested_at_idx', 'leads_requests', ['lead_id', 'requested_at'], unique=True)
    op.create_index('leads_requests_visit_id_idx', 'leads_requests', ['visit_id'], unique=False)
    op.create_table('million_verify_files',
    sa.Column('file_id', sa.BigInteger(), nullable=False),
    sa.Column('is_ready', sa.Boolean(), nullable=False),
    sa.Column('md5_hash', sa.VARCHAR(length=32), nullable=False),
    sa.Column('origin_aud_id', sa.UUID(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['origin_aud_id'], ['audience_smarts.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('file_id')
    )
    op.create_index('ix_mvf_file_id', 'million_verify_files', ['file_id'], unique=False)
    op.create_index('ix_mvf_md5_hash', 'million_verify_files', ['md5_hash'], unique=False)
    op.create_index('ix_mvf_origin_aud_id', 'million_verify_files', ['origin_aud_id'], unique=False)
    op.create_index('uq_mvf_file_md5', 'million_verify_files', ['file_id', 'md5_hash'], unique=True)
    op.create_table('premium_sources_deduction_funds',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('transaction_id', sa.UUID(), nullable=False),
    sa.Column('amount', sa.Integer(), nullable=False),
    sa.Column('funds_snapshot', sa.BigInteger(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.ForeignKeyConstraint(['transaction_id'], ['premium_sources_transactions.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('premium_sources_deduction_stripe',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('transaction_id', sa.UUID(), nullable=False),
    sa.Column('payment_method_id', sa.VARCHAR(length=32), nullable=False),
    sa.Column('amount', sa.Integer(), nullable=False),
    sa.Column('funds_snapshot', sa.BigInteger(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('now()'), nullable=False),
    sa.ForeignKeyConstraint(['transaction_id'], ['premium_sources_transactions.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('suppressed_contacts',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('five_x_five_user_id', sa.BigInteger(), nullable=False),
    sa.Column('domain_id', sa.BigInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('suppression_type', sa.VARCHAR(), nullable=False),
    sa.Column('suppression_detail', sa.VARCHAR(), nullable=False),
    sa.Column('requested_at', sa.TIMESTAMP(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['five_x_five_user_id'], ['5x5_users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_suppressed_contacts_domain_id', 'suppressed_contacts', ['domain_id'], unique=False)
    op.create_table('suppressions_rules',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('is_stop_collecting_contacts', sa.Boolean(), nullable=True),
    sa.Column('is_url_certain_activation', sa.Boolean(), nullable=True),
    sa.Column('activate_certain_urls', sa.TEXT(), nullable=True),
    sa.Column('is_based_activation', sa.Boolean(), nullable=True),
    sa.Column('activate_based_urls', sa.TEXT(), nullable=True),
    sa.Column('domain_id', sa.Integer(), nullable=False),
    sa.Column('actual_contect_days', sa.Integer(), nullable=True),
    sa.Column('page_views_limit', sa.Integer(), nullable=True),
    sa.Column('collection_timeout', sa.Integer(), nullable=True),
    sa.Column('suppressions_multiple_emails', sa.TEXT(), nullable=True),
    sa.Column('is_delete_contacts', sa.BOOLEAN(), server_default=sa.text('FALSE'), nullable=False),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('suppressions_rules_domain_id_idx', 'suppressions_rules', ['domain_id'], unique=True)
    op.create_table('users_domains_integrations',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('access_token', sa.VARCHAR(), nullable=True),
    sa.Column('shop_domain', sa.VARCHAR(length=64), nullable=True),
    sa.Column('service_name', sa.VARCHAR(length=32), nullable=True),
    sa.Column('data_center', sa.VARCHAR(), nullable=True),
    sa.Column('consumer_key', sa.VARCHAR(), nullable=True),
    sa.Column('consumer_secret', sa.VARCHAR(), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=True),
    sa.Column('is_with_suppression', sa.Boolean(), nullable=True),
    sa.Column('last_suppression_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('ad_account_id', sa.VARCHAR(length=32), nullable=True),
    sa.Column('full_name', sa.VARCHAR(length=64), nullable=True),
    sa.Column('last_access_token_update', sa.TIMESTAMP(), nullable=True),
    sa.Column('expire_access_token', sa.Integer(), nullable=True),
    sa.Column('platform_user_id', sa.VARCHAR(length=32), nullable=True),
    sa.Column('error_message', sa.VARCHAR(length=128), nullable=True),
    sa.Column('instance_url', sa.VARCHAR(length=64), nullable=True),
    sa.Column('is_failed', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('shop_id', sa.VARCHAR(length=32), nullable=True),
    sa.Column('slack_team_id', sa.VARCHAR(length=32), nullable=True),
    sa.Column('location_id', sa.VARCHAR(length=32), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.Column('is_slack_first_message_sent', sa.Boolean(), server_default=sa.text('false'), nullable=False),
    sa.Column('limit', sa.BigInteger(), server_default=sa.text('100'), nullable=False),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('users_domains_integrations_slack_team_id_idx', 'users_domains_integrations', ['slack_team_id'], unique=False)
    op.create_index('users_domains_integrations_suppression_idx', 'users_domains_integrations', ['is_with_suppression', 'domain_id'], unique=False)
    op.create_index('users_domains_integrations_user', 'users_domains_integrations', ['user_id'], unique=False)
    op.create_table('users_unlocked_5x5_users',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.BigInteger(), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('transaction_id', sa.VARCHAR(), nullable=True),
    sa.Column('amount_credits', sa.DECIMAL(precision=10, scale=2), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=True),
    sa.Column('five_x_five_up_id', sa.VARCHAR(), nullable=False),
    sa.Column('stripe_request_created_at', postgresql.TIMESTAMP(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('users_payments_transactions_transaction_id_idx', 'users_unlocked_5x5_users', ['transaction_id'], unique=True)
    op.create_index('users_unlocked_5x5_users_domain_id_five_x_five_up_id_idx', 'users_unlocked_5x5_users', ['domain_id', 'five_x_five_up_id'], unique=False)
    op.create_index('users_unlocked_5x5_users_up_id_idx', 'users_unlocked_5x5_users', ['five_x_five_up_id'], unique=False)
    op.create_table('anonymous_requests',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('trovo_id', sa.VARCHAR(length=128), nullable=True),
    sa.Column('page', sa.VARCHAR(length=1024), nullable=False),
    sa.Column('requested_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('visit_id', sa.BigInteger(), nullable=False),
    sa.Column('page_parameters', sa.VARCHAR(length=2048), nullable=True),
    sa.Column('spent_time_sec', sa.BigInteger(), nullable=False),
    sa.Column('domain_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['visit_id'], ['anonymous_visits.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_linkedins_verification',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('audience_smart_person_id', sa.UUID(), nullable=False),
    sa.Column('linkedin_url', sa.Text(), nullable=False),
    sa.Column('is_verify', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['audience_smart_person_id'], ['audience_smarts_persons.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_linkedins_verification_linkedin_url_idx', 'audience_linkedins_verification', ['linkedin_url'], unique=True)
    op.create_table('audience_lookalikes',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('name', sa.String(length=128), nullable=False),
    sa.Column('lookalike_size', sa.String(length=32), nullable=False),
    sa.Column('status', sa.String(length=32), server_default='new', nullable=False),
    sa.Column('created_date', sa.TIMESTAMP(), nullable=False),
    sa.Column('user_id', sa.Integer(), nullable=False),
    sa.Column('created_by_user_id', sa.Integer(), nullable=False),
    sa.Column('processed_size', sa.Integer(), server_default='0', nullable=False),
    sa.Column('size', sa.Integer(), server_default='0', nullable=False),
    sa.Column('source_uuid', sa.UUID(), nullable=False),
    sa.Column('significant_fields', sa.JSON(), nullable=True),
    sa.Column('similarity_score', sa.JSON(), nullable=True),
    sa.Column('insights', postgresql.BYTEA(), nullable=True),
    sa.Column('processed_train_model_size', sa.Integer(), server_default='0', nullable=False),
    sa.Column('train_model_size', sa.Integer(), server_default='0', nullable=False),
    sa.Column('scoring_type', sa.String(length=32), server_default='ml', nullable=False),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['source_uuid'], ['audience_sources.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_lookalikes_created_date_idx', 'audience_lookalikes', ['created_date'], unique=False)
    op.create_index('audience_lookalikes_name_idx', 'audience_lookalikes', ['name'], unique=False)
    op.create_index('audience_lookalikes_size_processed_size_idx', 'audience_lookalikes', ['size', 'processed_size'], unique=False)
    op.create_index('audience_lookalikes_user_id_created_date_idx', 'audience_lookalikes', ['user_id', 'created_date'], unique=False)
    op.create_index('audience_lookalikes_user_id_idx', 'audience_lookalikes', ['user_id'], unique=False)
    op.create_index('audience_lookalikes_user_id_uuid_idx', 'audience_lookalikes', ['user_id', 'id'], unique=False)
    op.create_table('audience_smarts_validations',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('audience_smart_person_id', sa.UUID(), nullable=False),
    sa.Column('verified_phone', sa.VARCHAR(length=128), nullable=True),
    sa.Column('verified_business_email', sa.VARCHAR(length=128), nullable=True),
    sa.Column('verified_personal_email', sa.VARCHAR(length=128), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['audience_smart_person_id'], ['audience_smarts_persons.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_sources_matched_persons',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('source_id', sa.UUID(), nullable=False),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=True),
    sa.Column('enrichment_user_asid', sa.UUID(), nullable=True),
    sa.Column('mapped_fields', sa.JSON(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('email', sa.VARCHAR(length=64), nullable=True),
    sa.Column('first_name', sa.VARCHAR(length=64), nullable=True),
    sa.Column('last_name', sa.VARCHAR(length=64), nullable=True),
    sa.Column('start_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('end_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('recency', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('recency_min', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('recency_max', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('inverted_recency', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('inverted_recency_min', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('inverted_recency_max', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('duration', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('recency_score', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('view_score', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('value_score', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('sum_score', sa.DECIMAL(precision=20, scale=5), server_default=sa.text('0'), nullable=True),
    sa.Column('amount', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('amount_min', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('amount_max', sa.Integer(), server_default=sa.text('0'), nullable=True),
    sa.Column('count', sa.Integer(), server_default=sa.text('1'), nullable=True),
    sa.Column('count_min', sa.Integer(), server_default=sa.text('1'), nullable=True),
    sa.Column('count_max', sa.Integer(), server_default=sa.text('1'), nullable=True),
    sa.ForeignKeyConstraint(['enrichment_user_id'], ['enrichment_users.id'], ),
    sa.ForeignKeyConstraint(['source_id'], ['audience_sources.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_index('audience_sources_matched_persons_source_id_email_idx', 'audience_sources_matched_persons', ['source_id', 'email'], unique=False)
    op.create_index('audience_sources_matched_persons_source_id_enrichment_user_asid', 'audience_sources_matched_persons', ['source_id', 'enrichment_user_asid'], unique=True)
    op.create_index('audience_sources_matched_persons_source_id_idx', 'audience_sources_matched_persons', ['source_id'], unique=False)
    op.create_table('integrations_suppressed_contacts',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('email', sa.String(), nullable=True),
    sa.Column('phone_number', sa.String(), nullable=True),
    sa.Column('id_service', sa.String(), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=False),
    sa.Column('integration_id', sa.BigInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['integration_id'], ['users_domains_integrations.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('integrations_users_sync',
    sa.Column('id', sa.BigInteger(), nullable=False),
    sa.Column('integration_id', sa.BigInteger(), nullable=False),
    sa.Column('sync_type', postgresql.ENUM('audience', 'contact', name='data_sync_type'), server_default=sa.text("'contact'::data_sync_type"), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=True),
    sa.Column('last_sync_date', sa.TIMESTAMP(), nullable=True),
    sa.Column('list_id', sa.VARCHAR(), nullable=True),
    sa.Column('list_name', sa.VARCHAR(), nullable=True),
    sa.Column('domain_id', sa.BigInteger(), nullable=True),
    sa.Column('data_map', sa.JSON(), nullable=True),
    sa.Column('leads_type', sa.VARCHAR(), nullable=True),
    sa.Column('platform_user_id', sa.BigInteger(), nullable=True),
    sa.Column('sync_status', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('no_of_contacts', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('created_by', sa.String(length=256), nullable=True),
    sa.Column('hook_url', sa.VARCHAR(), nullable=True),
    sa.Column('last_sent_lead_id', sa.BigInteger(), nullable=True),
    sa.Column('method', sa.String(length=8), nullable=True),
    sa.Column('customer_id', sa.VARCHAR(), nullable=True),
    sa.Column('result_file_url', sa.String(length=256), nullable=True),
    sa.Column('sent_contacts', sa.BigInteger(), server_default=sa.text('0'), nullable=False),
    sa.Column('smart_audience_id', sa.UUID(), nullable=True),
    sa.Column('campaign_id', sa.VARCHAR(), nullable=True),
    sa.Column('campaign_name', sa.VARCHAR(), nullable=True),
    sa.ForeignKeyConstraint(['domain_id'], ['users_domains.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['integration_id'], ['users_domains_integrations.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['last_sent_lead_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['smart_audience_id'], ['audience_smarts.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('integrations_users_sync_created_at_idx', 'integrations_users_sync', ['created_at'], unique=False)
    op.create_index('integrations_users_sync_created_at_sync_type_idx', 'integrations_users_sync', ['created_at', 'sync_type'], unique=False)
    op.create_index('integrations_users_sync_domain_id_idx', 'integrations_users_sync', ['domain_id'], unique=False)
    op.create_index('integrations_users_sync_leads_type_idx', 'integrations_users_sync', ['sync_type'], unique=False)
    op.create_index('integrations_users_sync_smart_audience_id_idx', 'integrations_users_sync', ['smart_audience_id'], unique=False)
    op.create_table('leads_users_companies',
    sa.Column('lead_company_id', sa.BigInteger(), nullable=False),
    sa.Column('first_lead_user_id', sa.BigInteger(), nullable=False),
    sa.ForeignKeyConstraint(['first_lead_user_id'], ['leads_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lead_company_id'], ['leads_companies.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('lead_company_id', 'first_lead_user_id', name='leads_users_companies_pkey'),
    sa.UniqueConstraint('lead_company_id', 'first_lead_user_id', name='leads_users_companies_lead_company_id_lead_user_id_idx')
    )
    op.create_table('premium_source_sync',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('premium_source_id', sa.UUID(), nullable=False),
    sa.Column('user_integration_id', sa.BigInteger(), nullable=False),
    sa.Column('status', sa.VARCHAR(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['premium_source_id'], ['premium_sources.id'], ),
    sa.ForeignKeyConstraint(['user_integration_id'], ['users_domains_integrations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('audience_data_sync_imported_persons',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('status', sa.String(length=64), nullable=False),
    sa.Column('service_name', sa.String(length=128), nullable=False),
    sa.Column('data_sync_id', sa.BigInteger(), nullable=True),
    sa.Column('created_at', postgresql.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', postgresql.TIMESTAMP(), nullable=True),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=True),
    sa.Column('enrichment_user_asid', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['data_sync_id'], ['integrations_users_sync.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('audience_data_sync_imported_persons_data_sync', 'audience_data_sync_imported_persons', ['data_sync_id'], unique=False)
    op.create_index('audience_data_sync_imported_persons_enrichment_user_asid', 'audience_data_sync_imported_persons', ['enrichment_user_asid', 'data_sync_id'], unique=True)
    op.create_index('audience_data_sync_imported_persons_enrichment_user_id_data_syn', 'audience_data_sync_imported_persons', ['enrichment_user_id', 'data_sync_id'], unique=True)
    op.create_table('audience_lookalikes_persons',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('lookalike_id', sa.UUID(), nullable=False),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=True),
    sa.Column('enrichment_user_asid', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['enrichment_user_id'], ['enrichment_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lookalike_id'], ['audience_lookalikes.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_index('audience_smarts_persons_lookalike_id', 'audience_lookalikes_persons', ['lookalike_id'], unique=False)
    op.create_table('audience_smarts_data_sources',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('smart_audience_id', sa.UUID(), nullable=False),
    sa.Column('data_type', sa.String(length=16), nullable=False),
    sa.Column('source_id', sa.UUID(), nullable=True),
    sa.Column('lookalike_id', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['lookalike_id'], ['audience_lookalikes.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['smart_audience_id'], ['audience_smarts.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['source_id'], ['audience_sources.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('data_sync_imported_leads',
    sa.Column('id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('status', sa.VARCHAR(length=64), nullable=False),
    sa.Column('is_validation', sa.Boolean(), server_default=sa.text('true'), nullable=False),
    sa.Column('service_name', sa.VARCHAR(length=128), nullable=False),
    sa.Column('data_sync_id', sa.BigInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), nullable=False),
    sa.Column('lead_users_id', sa.BigInteger(), nullable=False),
    sa.ForeignKeyConstraint(['data_sync_id'], ['integrations_users_sync.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lead_users_id'], ['leads_users.id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('data_sync_imported_leads_data_sync_id_status_idx', 'data_sync_imported_leads', ['data_sync_id', 'status'], unique=False)
    op.create_index('data_sync_imported_leads_is_validation_status_idx', 'data_sync_imported_leads', ['is_validation', 'status'], unique=False)
    op.create_index('data_sync_imported_leads_lead_users_id_data_sync_id_idx', 'data_sync_imported_leads', ['lead_users_id', 'data_sync_id'], unique=True)
    op.create_table('enrichment_lookalike_scores',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('lookalike_id', sa.UUID(), nullable=False),
    sa.Column('enrichment_user_id', sa.UUID(), nullable=False),
    sa.Column('score', sa.Numeric(precision=10, scale=2), server_default=sa.text('0'), nullable=True),
    sa.ForeignKeyConstraint(['enrichment_user_id'], ['enrichment_users.id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lookalike_id'], ['audience_lookalikes.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('enrichment_models',
    sa.Column('id', sa.UUID(), server_default=sa.text('gen_random_uuid()'), nullable=False),
    sa.Column('lookalike_id', sa.UUID(), nullable=False),
    sa.Column('model', postgresql.BYTEA(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), nullable=False),
    sa.ForeignKeyConstraint(['lookalike_id'], ['audience_lookalikes.id'], ondelete='cascade'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('premium_source_syncs_google_ads',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('premium_source_sync_id', sa.UUID(), nullable=False),
    sa.Column('customer_id', sa.VARCHAR(), nullable=False),
    sa.Column('list_id', sa.VARCHAR(), nullable=False),
    sa.Column('list_name', sa.VARCHAR(), nullable=False),
    sa.ForeignKeyConstraint(['premium_source_sync_id'], ['premium_source_sync.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('premium_source_syncs_meta',
    sa.Column('id', sa.UUID(), nullable=False),
    sa.Column('premium_source_sync_id', sa.UUID(), nullable=False),
    sa.Column('customer_id', sa.VARCHAR(), nullable=False),
    sa.Column('campaign_id', sa.VARCHAR(), nullable=False),
    sa.Column('list_id', sa.VARCHAR(), nullable=False),
    sa.Column('list_name', sa.VARCHAR(), nullable=False),
    sa.ForeignKeyConstraint(['premium_source_sync_id'], ['premium_source_sync.id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('premium_source_syncs_meta')
    op.drop_table('premium_source_syncs_google_ads')
    op.drop_table('enrichment_models')
    op.drop_table('enrichment_lookalike_scores')
    op.drop_index('data_sync_imported_leads_lead_users_id_data_sync_id_idx', table_name='data_sync_imported_leads')
    op.drop_index('data_sync_imported_leads_is_validation_status_idx', table_name='data_sync_imported_leads')
    op.drop_index('data_sync_imported_leads_data_sync_id_status_idx', table_name='data_sync_imported_leads')
    op.drop_table('data_sync_imported_leads')
    op.drop_table('audience_smarts_data_sources')
    op.drop_index('audience_smarts_persons_lookalike_id', table_name='audience_lookalikes_persons')
    op.drop_table('audience_lookalikes_persons')
    op.drop_index('audience_data_sync_imported_persons_enrichment_user_id_data_syn', table_name='audience_data_sync_imported_persons')
    op.drop_index('audience_data_sync_imported_persons_enrichment_user_asid', table_name='audience_data_sync_imported_persons')
    op.drop_index('audience_data_sync_imported_persons_data_sync', table_name='audience_data_sync_imported_persons')
    op.drop_table('audience_data_sync_imported_persons')
    op.drop_table('premium_source_sync')
    op.drop_table('leads_users_companies')
    op.drop_index('integrations_users_sync_smart_audience_id_idx', table_name='integrations_users_sync')
    op.drop_index('integrations_users_sync_leads_type_idx', table_name='integrations_users_sync')
    op.drop_index('integrations_users_sync_domain_id_idx', table_name='integrations_users_sync')
    op.drop_index('integrations_users_sync_created_at_sync_type_idx', table_name='integrations_users_sync')
    op.drop_index('integrations_users_sync_created_at_idx', table_name='integrations_users_sync')
    op.drop_table('integrations_users_sync')
    op.drop_table('integrations_suppressed_contacts')
    op.drop_index('audience_sources_matched_persons_source_id_idx', table_name='audience_sources_matched_persons')
    op.drop_index('audience_sources_matched_persons_source_id_enrichment_user_asid', table_name='audience_sources_matched_persons')
    op.drop_index('audience_sources_matched_persons_source_id_email_idx', table_name='audience_sources_matched_persons')
    op.drop_table('audience_sources_matched_persons')
    op.drop_table('audience_smarts_validations')
    op.drop_index('audience_lookalikes_user_id_uuid_idx', table_name='audience_lookalikes')
    op.drop_index('audience_lookalikes_user_id_idx', table_name='audience_lookalikes')
    op.drop_index('audience_lookalikes_user_id_created_date_idx', table_name='audience_lookalikes')
    op.drop_index('audience_lookalikes_size_processed_size_idx', table_name='audience_lookalikes')
    op.drop_index('audience_lookalikes_name_idx', table_name='audience_lookalikes')
    op.drop_index('audience_lookalikes_created_date_idx', table_name='audience_lookalikes')
    op.drop_table('audience_lookalikes')
    op.drop_index('audience_linkedins_verification_linkedin_url_idx', table_name='audience_linkedins_verification')
    op.drop_table('audience_linkedins_verification')
    op.drop_table('anonymous_requests')
    op.drop_index('users_unlocked_5x5_users_up_id_idx', table_name='users_unlocked_5x5_users')
    op.drop_index('users_unlocked_5x5_users_domain_id_five_x_five_up_id_idx', table_name='users_unlocked_5x5_users')
    op.drop_index('users_payments_transactions_transaction_id_idx', table_name='users_unlocked_5x5_users')
    op.drop_table('users_unlocked_5x5_users')
    op.drop_index('users_domains_integrations_user', table_name='users_domains_integrations')
    op.drop_index('users_domains_integrations_suppression_idx', table_name='users_domains_integrations')
    op.drop_index('users_domains_integrations_slack_team_id_idx', table_name='users_domains_integrations')
    op.drop_table('users_domains_integrations')
    op.drop_index('suppressions_rules_domain_id_idx', table_name='suppressions_rules')
    op.drop_table('suppressions_rules')
    op.drop_index('ix_suppressed_contacts_domain_id', table_name='suppressed_contacts')
    op.drop_table('suppressed_contacts')
    op.drop_table('premium_sources_deduction_stripe')
    op.drop_table('premium_sources_deduction_funds')
    op.drop_index('uq_mvf_file_md5', table_name='million_verify_files')
    op.drop_index('ix_mvf_origin_aud_id', table_name='million_verify_files')
    op.drop_index('ix_mvf_md5_hash', table_name='million_verify_files')
    op.drop_index('ix_mvf_file_id', table_name='million_verify_files')
    op.drop_table('million_verify_files')
    op.drop_index('leads_requests_visit_id_idx', table_name='leads_requests')
    op.drop_index('leads_requests_lead_id_requested_at_idx', table_name='leads_requests')
    op.drop_table('leads_requests')
    op.drop_index('leads_companies_primary_industry_idx', table_name='leads_companies')
    op.drop_index('leads_companies_alias_idx', table_name='leads_companies')
    op.drop_table('leads_companies')
    op.drop_index('audience_sources_user_id_uuid_idx', table_name='audience_sources')
    op.drop_index('audience_sources_user_id_idx', table_name='audience_sources')
    op.drop_index('audience_sources_total_records_idx', table_name='audience_sources')
    op.drop_index('audience_sources_name_idx', table_name='audience_sources')
    op.drop_index('audience_sources_matched_records_status_idx', table_name='audience_sources')
    op.drop_index('audience_sources_matched_records_idx', table_name='audience_sources')
    op.drop_index('audience_sources_hash_csv_file_idx', table_name='audience_sources')
    op.drop_index('audience_sources_created_at_idx', table_name='audience_sources')
    op.drop_table('audience_sources')
    op.drop_index('audience_smarts_persons_smart_audience_id_idx', table_name='audience_smarts_persons')
    op.drop_index('audience_smarts_persons_is_synced_is_valid_idx', table_name='audience_smarts_persons')
    op.drop_index('audience_smarts_persons_enrichment_user_id_idx', table_name='audience_smarts_persons')
    op.drop_index('au_sm_ps_is_validation_processed_smart_audience_id_idx', table_name='audience_smarts_persons')
    op.drop_index('au_sm_ps_is_valid_smart_audience_id_idx', table_name='audience_smarts_persons')
    op.drop_table('audience_smarts_persons')
    op.drop_table('audience_leads')
    op.drop_table('anonymous_visits')
    op.drop_table('5x5_users_phones')
    op.drop_table('5x5_users_locations')
    op.drop_index('5x5_users_emails_user_id_type_idx', table_name='5x5_users_emails')
    op.drop_index('5x5_users_emails_type_idx', table_name='5x5_users_emails')
    op.drop_table('5x5_users_emails')
    op.drop_table('whitelabel_settings')
    op.drop_index('users_domains_is_enable_idx', table_name='users_domains')
    op.drop_index('users_domains_data_provider_id_idx', table_name='users_domains')
    op.drop_table('users_domains')
    op.drop_index('users_account_notifications_user_id_notification_id_is_checked_', table_name='users_account_notifications')
    op.drop_index('user_notification', table_name='users_account_notifications')
    op.drop_table('users_account_notifications')
    op.drop_index('teams_invitations_md5_hash_idx', table_name='teams_invitations')
    op.drop_index('teams_invitations_mail_team_owner_id_idx', table_name='teams_invitations')
    op.drop_table('teams_invitations')
    op.drop_table('subscription_transactions')
    op.drop_index('referral_users_user_id_parent_user_id_idx', table_name='referral_users')
    op.drop_table('referral_users')
    op.drop_table('referral_payouts')
    op.drop_table('privacy_policy_users')
    op.drop_table('premium_sources_transactions')
    op.drop_index('partners_user_id_idx', table_name='partners')
    op.drop_index('partners_master_id_idx', table_name='partners')
    op.drop_index('partners_is_master_idx', table_name='partners')
    op.drop_index('partners_email_idx', table_name='partners')
    op.drop_table('partners')
    op.drop_table('leads_users_ordered')
    op.drop_table('leads_users_added_to_cart')
    op.drop_table('leads_orders')
    op.drop_index('ix_voter_asid', table_name='enrichment_voter_record')
    op.drop_table('enrichment_voter_record')
    op.drop_index('ix_enrichment_users_emails_user_id', table_name='enrichment_users_emails')
    op.drop_index('ix_enrichment_users_emails_email_id', table_name='enrichment_users_emails')
    op.drop_table('enrichment_users_emails')
    op.drop_index('ix_enrichment_users_contacts_asid', table_name='enrichment_users_contacts')
    op.drop_table('enrichment_users_contacts')
    op.drop_index('professional_profiles_asid_idx', table_name='enrichment_professional_profiles')
    op.drop_table('enrichment_professional_profiles')
    op.drop_table('enrichment_postals')
    op.drop_index('ix_enrichment_personal_profiles_asid', table_name='enrichment_personal_profiles')
    op.drop_table('enrichment_personal_profiles')
    op.drop_index('ix_lifestyle_asid', table_name='enrichment_lifestyles')
    op.drop_table('enrichment_lifestyles')
    op.drop_index('ix_financial_asid', table_name='enrichment_financial_records')
    op.drop_table('enrichment_financial_records')
    op.drop_index('idx_emphistory_asid_current', table_name='enrichment_employment_history', postgresql_where=sa.text('is_current = TRUE'))
    op.drop_table('enrichment_employment_history')
    op.drop_index('audience_smarts_user_id_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_user_created_at', table_name='audience_smarts')
    op.drop_index('audience_smarts_use_case_id_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_total_records_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_status_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_created_at_user_id_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_created_at_idx', table_name='audience_smarts')
    op.drop_index('audience_smarts_active_segment_records_idx', table_name='audience_smarts')
    op.drop_table('audience_smarts')
    op.drop_table('audience')
    op.drop_table('api_keys')
    op.drop_index('admin_invitations_token_idx', table_name='admin_invitations')
    op.drop_index('admin_invitations_email_idx', table_name='admin_invitations')
    op.drop_table('admin_invitations')
    op.drop_index('5x5_users_up_id_idx', table_name='5x5_users')
    op.drop_index('5x5_users_seniority_level_idx', table_name='5x5_users')
    op.drop_index('5x5_users_linkedin_url_idx', table_name='5x5_users')
    op.drop_index('5x5_users_job_title_idx', table_name='5x5_users')
    op.drop_index('5x5_users_department_idx', table_name='5x5_users')
    op.drop_index('5x5_users_company_name_idx', table_name='5x5_users')
    op.drop_index('5x5_users_company_domain_idx', table_name='5x5_users')
    op.drop_index('5x5_users_company_alias_idx', table_name='5x5_users')
    op.drop_table('5x5_users')
    op.drop_index('locations_pkey', table_name='5x5_locations')
    op.drop_table('5x5_locations')
    op.drop_index('users_overage_leads_count_idx', table_name='users')
    op.drop_index('users_email_idx', table_name='users')
    op.drop_index('users_data_provider_id_idx', table_name='users')
    op.drop_table('users')
    op.drop_index('user_subscriptions_user_id_status_idx', table_name='user_subscriptions')
    op.drop_index('user_subscriptions_user_id_idx', table_name='user_subscriptions')
    op.drop_index('user_subscriptions_contact_credit_plan_id_idx', table_name='user_subscriptions')
    op.drop_table('user_subscriptions')
    op.drop_table('usa_zip_codes')
    op.drop_table('transaction_history')
    op.drop_table('suppressions_lists')
    op.drop_index('subscription_plans_title_price_idx', table_name='subscription_plans')
    op.drop_index('subscription_plans_title_interval_idx', table_name='subscription_plans')
    op.drop_index('subscription_plans_platform_is_active_idx', table_name='subscription_plans')
    op.drop_index('subscription_plans_interval_is_active_idx', table_name='subscription_plans')
    op.drop_index('subscription_plans_contact_credit_plan_id_idx', table_name='subscription_plans')
    op.drop_index('subscription_plans_alias_idx', table_name='subscription_plans')
    op.drop_table('subscription_plans')
    op.drop_table('stripe_invoices_logs')
    op.drop_index('state_state_name_idx', table_name='states')
    op.drop_index('state_state_code_idx', table_name='states')
    op.drop_table('states')
    op.drop_table('sendgrid_templates')
    op.drop_table('referral_discount_codes')
    op.drop_table('premium_sources')
    op.drop_table('partners_assets')
    op.drop_index(op.f('ix_opt_out_black_list_email'), table_name='opt_out_black_list')
    op.drop_table('opt_out_black_list')
    op.drop_index('leads_visits_pages_count_idx', table_name='leads_visits')
    op.drop_index('leads_visits_five_x_five_user_id_domain_id_idx', table_name='leads_visits')
    op.drop_table('leads_visits')
    op.drop_index('leads_users_user_id_idx', table_name='leads_users')
    op.drop_index('leads_users_user_id_created_at_idx', table_name='leads_users')
    op.drop_index('leads_users_is_confirmed_is_checked_idx', table_name='leads_users')
    op.drop_index('leads_users_is_confirmed_idx', table_name='leads_users')
    op.drop_index('leads_users_is_confirmed_domain_id_idx', table_name='leads_users')
    op.drop_index('leads_users_is_active_idx', table_name='leads_users')
    op.drop_index('leads_users_id_domain_id_is_active_is_converted_sales_idx', table_name='leads_users')
    op.drop_index('leads_users_id_domain_id_is_active_is_converted_sales_behavior_', table_name='leads_users')
    op.drop_index('leads_users_id_domain_id_is_active_idx', table_name='leads_users')
    op.drop_index('leads_users_id_domain_id_idx', table_name='leads_users')
    op.drop_index('leads_users_id_behavior_type_idx', table_name='leads_users')
    op.drop_index('leads_users_five_x_five_user_id_user_id_idx', table_name='leads_users')
    op.drop_index('leads_users_five_x_five_user_id_domain_id_idx', table_name='leads_users')
    op.drop_index('leads_users_first_visit_id_idx', table_name='leads_users')
    op.drop_index('leads_users_domain_id_is_active_is_confirmed_idx', table_name='leads_users')
    op.drop_table('leads_users')
    op.drop_index('leads_emails_verification_email_idx', table_name='leads_emails_verifications')
    op.drop_table('leads_emails_verifications')
    op.drop_table('leads')
    op.drop_table('kajabi')
    op.drop_index('integrations_service_name_key', table_name='integrations')
    op.drop_table('integrations')
    op.drop_table('integration_bigcommerce_users')
    op.drop_index('external_apps_installations_store_hash_idx', table_name='external_apps_installations')
    op.drop_index('external_apps_install_platform_idx', table_name='external_apps_installations')
    op.drop_table('external_apps_installations')
    op.drop_index('enrichment_user_ids_asid_idx', table_name='enrichment_users')
    op.drop_table('enrichment_users')
    op.drop_index('ix_enrichment_emails_norm_email', table_name='enrichment_emails')
    op.drop_table('enrichment_emails')
    op.drop_table('charging_credits_history')
    op.drop_table('audience_smarts_use_cases')
    op.drop_table('audience_settings')
    op.drop_index('audience_postals_verification_postal_code_idx', table_name='audience_postals_verification')
    op.drop_table('audience_postals_verification')
    op.drop_index('audience_phones_verification_phone_idx', table_name='audience_phones_verification')
    op.drop_table('audience_phones_verification')
    op.drop_table('account_notifications')
    op.drop_table('5x5_users_interests')
    op.drop_index('5x5_phones_number_idx', table_name='5x5_phones')
    op.drop_table('5x5_phones')
    op.drop_index('idx_5x5_users_up_id', table_name='5x5_names', postgresql_ops={'name': 'varchar_pattern_ops'})
    op.drop_index('5x5_names_name_idx', table_name='5x5_names')
    op.drop_table('5x5_names')
    op.drop_index('5x5_interests_topic_id_idx', table_name='5x5_interests')
    op.drop_table('5x5_interests')
    op.drop_index('idx_5x5_emails_name', table_name='5x5_emails', postgresql_ops={'email': 'varchar_pattern_ops'})
    op.drop_index('idx_5x5_emails_host', table_name='5x5_emails', postgresql_ops={'email_host': 'varchar_pattern_ops'})
    op.drop_index('5x5_emails_email_idx', table_name='5x5_emails')
    op.drop_table('5x5_emails')
    op.drop_index('5x5_cookie_sync_files_event_date_idx', table_name='5x5_cookie_sync_files')
    op.drop_table('5x5_cookie_sync_files')
    op.drop_table('5x5_anonymous_cookie_sync')
    # ### end Alembic commands ###
